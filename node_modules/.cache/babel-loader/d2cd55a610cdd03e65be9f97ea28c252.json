{"ast":null,"code":"import _slicedToArray from\"/Users/ktb8n/Documents/Git/badbankfinal/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{UserContext}from\"./context\";import{Card}from\"./context\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Withdraw(){var _React$useState=React.useState(true),_React$useState2=_slicedToArray(_React$useState,2),display=_React$useState2[0],setDisplay=_React$useState2[1];var _React$useState3=React.useState(\"\"),_React$useState4=_slicedToArray(_React$useState3,2),message=_React$useState4[0],setMessage=_React$useState4[1];var ctx=React.useContext(UserContext);var _React$useState5=React.useState(ctx.users[0].balance),_React$useState6=_slicedToArray(_React$useState5,2),balance=_React$useState6[0],setBalance=_React$useState6[1];return/*#__PURE__*/_jsx(Card,{txtcolor:\"white\",bgcolor:\"info\",header:\"Get Money\",message:message,body:display?/*#__PURE__*/_jsx(WithdrawForm,{setDisplay:setDisplay}):/*#__PURE__*/_jsx(WithdrawMessage,{setDisplay:setDisplay})});function WithdrawForm(props){var _React$useState7=React.useState(\"\"),_React$useState8=_slicedToArray(_React$useState7,2),withdraw=_React$useState8[0],setWithdraw=_React$useState8[1];var _React$useState9=React.useState(true),_React$useState10=_slicedToArray(_React$useState9,2),disabled=_React$useState10[0],setDisabled=_React$useState10[1];function handleWithdrawal(){if(!validation(Number(withdraw),balance))return;setBalance(balance-withdraw);ctx.users[0].balance=balance-Number(withdraw);timeStamp();setWithdraw(\"\");setDisplay(false);}function timeStamp(){var transactionDate=new Date();ctx.users[0].history.push({type:\"withdrawal\",amount:withdraw,date:transactionDate});}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"span\",{className:\"balance-information\",children:[\"Account Balance: $\",balance]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),\"Withdrawal Amount\",/*#__PURE__*/_jsx(\"input\",{type:\"input\",className:\"form-control\",id:\"withdraw\",placeholder:\"How much do you want\",value:withdraw,onChange:function onChange(e){setWithdraw(e.currentTarget.value);setDisabled(false);}}),/*#__PURE__*/_jsx(\"h4\",{className:\"text-danger\",children:message}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-secondary\",onClick:handleWithdrawal,disabled:disabled,children:\"Withdraw\"})]});}function WithdrawMessage(props){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"span\",{className:\"balance-information\",children:[\"Account Balance $\",balance]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h5\",{className:\"text-warning\",children:\"Take your money!\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-secondary\",onClick:function onClick(){return props.setDisplay(true);},children:\"Withdraw Again\"})]});}function validation(withdrawal,balance){if(withdrawal>balance){setMessage(\"You don't have enough money for that.\");setTimeout(function(){return setMessage(\"\");},2300);return false;}if(isNaN(withdrawal)|withdrawal<1){setMessage(\"You must indicate a whole numeric value\");setTimeout(function(){return setMessage(\"\");},2300);return false;}return true;}};export default Withdraw;","map":{"version":3,"names":["React","UserContext","Card","Withdraw","useState","display","setDisplay","message","setMessage","ctx","useContext","users","balance","setBalance","WithdrawForm","props","withdraw","setWithdraw","disabled","setDisabled","handleWithdrawal","validation","Number","timeStamp","transactionDate","Date","history","push","type","amount","date","e","currentTarget","value","WithdrawMessage","withdrawal","setTimeout","isNaN"],"sources":["/Users/ktb8n/Documents/Git/badbankfinal/src/Components/withdraw.js"],"sourcesContent":["import React from \"react\";\nimport {UserContext} from \"./context\";\nimport {Card} from \"./context\";\n\nfunction Withdraw() {\n\tconst [display, setDisplay] = React.useState(true);\n\tconst [message, setMessage] = React.useState(\"\");\n\tconst ctx = React.useContext(UserContext);\n\tconst [balance, setBalance] = React.useState(ctx.users[0].balance);\n\n\treturn (\n\t\t<Card\n\t\t\ttxtcolor='white'\n\t\t\tbgcolor='info'\n\t\t\theader='Get Money'\n\t\t\tmessage={message}\n\t\t\tbody={\n\t\t\t\tdisplay ? (\n\t\t\t\t\t<WithdrawForm setDisplay={setDisplay} />\n\t\t\t\t) : (\n\t\t\t\t\t<WithdrawMessage setDisplay={setDisplay} />\n\t\t\t\t)\n\t\t\t}\n\t\t/>\n\t);\n\n\tfunction WithdrawForm(props) {\n\t\tconst [withdraw, setWithdraw] = React.useState(\"\");\n\t\tconst [disabled, setDisabled] = React.useState(true);\n\n\t\tfunction handleWithdrawal() {\n\t\t\tif (!validation(Number(withdraw), balance)) return;\n\t\t\tsetBalance(balance - withdraw);\n\t\t\tctx.users[0].balance = balance - Number(withdraw);\n\t\t\ttimeStamp();\n\t\t\tsetWithdraw(\"\");\n\t\t\tsetDisplay(false);\n\t\t}\n\n\t\tfunction timeStamp() {\n\t\t\tlet transactionDate = new Date();\n\t\t\tctx.users[0].history.push({\n\t\t\t\ttype: \"withdrawal\",\n\t\t\t\tamount: withdraw,\n\t\t\t\tdate: transactionDate,\n\t\t\t});\n\t\t}\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<span className='balance-information'>Account Balance: ${balance}</span>\n\t\t\t\t<br />\n\t\t\t\t<br />\n\t\t\t\tWithdrawal Amount\n\t\t\t\t<input\n\t\t\t\t\ttype='input'\n\t\t\t\t\tclassName='form-control'\n\t\t\t\t\tid='withdraw'\n\t\t\t\t\tplaceholder='How much do you want'\n\t\t\t\t\tvalue={withdraw}\n\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\tsetWithdraw(e.currentTarget.value);\n\t\t\t\t\t\tsetDisabled(false);\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t\t<h4 className='text-danger'>{message}</h4>\n\t\t\t\t<br />\n\t\t\t\t<button\n\t\t\t\t\ttype='submit'\n\t\t\t\t\tclassName='btn btn-secondary'\n\t\t\t\t\tonClick={handleWithdrawal}\n\t\t\t\t\tdisabled={disabled}\n\t\t\t\t>\n\t\t\t\t\tWithdraw\n\t\t\t\t</button>\n\t\t\t</>\n\t\t);\n\t}\n\n\tfunction WithdrawMessage(props) {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<span className='balance-information'>Account Balance ${balance}</span>\n\t\t\t\t<br />\n\t\t\t\t<br />\n\t\t\t\t<h5 className='text-warning'>Take your money!</h5>\n\t\t\t\t<button\n\t\t\t\t\ttype='submit'\n\t\t\t\t\tclassName='btn btn-secondary'\n\t\t\t\t\tonClick={() => props.setDisplay(true)}\n\t\t\t\t>\n\t\t\t\t\tWithdraw Again\n\t\t\t\t</button>\n\t\t\t</>\n\t\t);\n\t}\n\n\tfunction validation(withdrawal, balance) {\n\t\tif (withdrawal > balance) {\n\t\t\tsetMessage(\"You don't have enough money for that.\");\n\t\t\tsetTimeout(() => setMessage(\"\"), 2300);\n\t\t\treturn false;\n\t\t}\n\t\tif (isNaN(withdrawal) | (withdrawal < 1)) {\n\t\t\tsetMessage(\"You must indicate a whole numeric value\");\n\t\t\tsetTimeout(() => setMessage(\"\"), 2300);\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t}\n};\n\nexport default Withdraw;\n"],"mappings":"6HAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,WAAR,KAA0B,WAA1B,CACA,OAAQC,IAAR,KAAmB,WAAnB,C,6IAEA,QAASC,CAAAA,QAAT,EAAoB,CACnB,oBAA8BH,KAAK,CAACI,QAAN,CAAe,IAAf,CAA9B,oDAAOC,OAAP,qBAAgBC,UAAhB,qBACA,qBAA8BN,KAAK,CAACI,QAAN,CAAe,EAAf,CAA9B,qDAAOG,OAAP,qBAAgBC,UAAhB,qBACA,GAAMC,CAAAA,GAAG,CAAGT,KAAK,CAACU,UAAN,CAAiBT,WAAjB,CAAZ,CACA,qBAA8BD,KAAK,CAACI,QAAN,CAAeK,GAAG,CAACE,KAAJ,CAAU,CAAV,EAAaC,OAA5B,CAA9B,qDAAOA,OAAP,qBAAgBC,UAAhB,qBAEA,mBACC,KAAC,IAAD,EACC,QAAQ,CAAC,OADV,CAEC,OAAO,CAAC,MAFT,CAGC,MAAM,CAAC,WAHR,CAIC,OAAO,CAAEN,OAJV,CAKC,IAAI,CACHF,OAAO,cACN,KAAC,YAAD,EAAc,UAAU,CAAEC,UAA1B,EADM,cAGN,KAAC,eAAD,EAAiB,UAAU,CAAEA,UAA7B,EATH,EADD,CAgBA,QAASQ,CAAAA,YAAT,CAAsBC,KAAtB,CAA6B,CAC5B,qBAAgCf,KAAK,CAACI,QAAN,CAAe,EAAf,CAAhC,qDAAOY,QAAP,qBAAiBC,WAAjB,qBACA,qBAAgCjB,KAAK,CAACI,QAAN,CAAe,IAAf,CAAhC,sDAAOc,QAAP,sBAAiBC,WAAjB,sBAEA,QAASC,CAAAA,gBAAT,EAA4B,CAC3B,GAAI,CAACC,UAAU,CAACC,MAAM,CAACN,QAAD,CAAP,CAAmBJ,OAAnB,CAAf,CAA4C,OAC5CC,UAAU,CAACD,OAAO,CAAGI,QAAX,CAAV,CACAP,GAAG,CAACE,KAAJ,CAAU,CAAV,EAAaC,OAAb,CAAuBA,OAAO,CAAGU,MAAM,CAACN,QAAD,CAAvC,CACAO,SAAS,GACTN,WAAW,CAAC,EAAD,CAAX,CACAX,UAAU,CAAC,KAAD,CAAV,CACA,CAED,QAASiB,CAAAA,SAAT,EAAqB,CACpB,GAAIC,CAAAA,eAAe,CAAG,GAAIC,CAAAA,IAAJ,EAAtB,CACAhB,GAAG,CAACE,KAAJ,CAAU,CAAV,EAAae,OAAb,CAAqBC,IAArB,CAA0B,CACzBC,IAAI,CAAE,YADmB,CAEzBC,MAAM,CAAEb,QAFiB,CAGzBc,IAAI,CAAEN,eAHmB,CAA1B,EAKA,CAED,mBACC,wCACC,cAAM,SAAS,CAAC,qBAAhB,gCAAyDZ,OAAzD,GADD,cAEC,aAFD,cAGC,aAHD,kCAKC,cACC,IAAI,CAAC,OADN,CAEC,SAAS,CAAC,cAFX,CAGC,EAAE,CAAC,UAHJ,CAIC,WAAW,CAAC,sBAJb,CAKC,KAAK,CAAEI,QALR,CAMC,QAAQ,CAAE,kBAACe,CAAD,CAAO,CAChBd,WAAW,CAACc,CAAC,CAACC,aAAF,CAAgBC,KAAjB,CAAX,CACAd,WAAW,CAAC,KAAD,CAAX,CACA,CATF,EALD,cAgBC,WAAI,SAAS,CAAC,aAAd,UAA6BZ,OAA7B,EAhBD,cAiBC,aAjBD,cAkBC,eACC,IAAI,CAAC,QADN,CAEC,SAAS,CAAC,mBAFX,CAGC,OAAO,CAAEa,gBAHV,CAIC,QAAQ,CAAEF,QAJX,sBAlBD,GADD,CA6BA,CAED,QAASgB,CAAAA,eAAT,CAAyBnB,KAAzB,CAAgC,CAC/B,mBACC,wCACC,cAAM,SAAS,CAAC,qBAAhB,+BAAwDH,OAAxD,GADD,cAEC,aAFD,cAGC,aAHD,cAIC,WAAI,SAAS,CAAC,cAAd,8BAJD,cAKC,eACC,IAAI,CAAC,QADN,CAEC,SAAS,CAAC,mBAFX,CAGC,OAAO,CAAE,yBAAMG,CAAAA,KAAK,CAACT,UAAN,CAAiB,IAAjB,CAAN,EAHV,4BALD,GADD,CAeA,CAED,QAASe,CAAAA,UAAT,CAAoBc,UAApB,CAAgCvB,OAAhC,CAAyC,CACxC,GAAIuB,UAAU,CAAGvB,OAAjB,CAA0B,CACzBJ,UAAU,CAAC,uCAAD,CAAV,CACA4B,UAAU,CAAC,iBAAM5B,CAAAA,UAAU,CAAC,EAAD,CAAhB,EAAD,CAAuB,IAAvB,CAAV,CACA,MAAO,MAAP,CACA,CACD,GAAI6B,KAAK,CAACF,UAAD,CAAL,CAAqBA,UAAU,CAAG,CAAtC,CAA0C,CACzC3B,UAAU,CAAC,yCAAD,CAAV,CACA4B,UAAU,CAAC,iBAAM5B,CAAAA,UAAU,CAAC,EAAD,CAAhB,EAAD,CAAuB,IAAvB,CAAV,CACA,MAAO,MAAP,CACA,CACD,MAAO,KAAP,CACA,CACD,EAED,cAAeL,CAAAA,QAAf"},"metadata":{},"sourceType":"module"}